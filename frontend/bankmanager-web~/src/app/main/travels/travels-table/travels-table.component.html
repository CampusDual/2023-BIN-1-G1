<o-form show-header="no">
    <o-column-collapsible title="{{'travels_filters' | oTranslate }}" appearance="outline">
        <o-row layout-gap="18px">
            <o-column fxFlex="50" title="{{'datetime_in' | oTranslate }}">
                <o-time-input date-locale="es" attr="startInit" label="INIT" read-only="no" required="no"></o-time-input>
                <o-time-input date-locale="es" attr="endInit" label="END" read-only="no" required="no"></o-time-input>
            </o-column>
            <o-column title="{{'datetime_out' | oTranslate }}">
                <o-time-input date-locale="es" attr="startEnd" label="INIT" read-only="no" required="no"></o-time-input>
                <o-time-input date-locale="es" attr="endEnd" label="END" read-only="no" required="no"></o-time-input>
            </o-column>
        </o-row>
        <o-row layout-gap="18px">
             <o-combo attr="combo-searchable" label="Select plate"  entity="plate" service="plates"
             value-column="plate_number" searchable="yes" columns="id_plate;plate_number"
            visible-columns="plate_number">
            </o-combo>
        </o-row>
        <o-row layout-gap="18px" layout-align="END">
            <o-button attr="filter" [oFilterBuilderQuery]="filterBuilder" type="RAISED" label="FILTER" class="filter-button"></o-button>
            <o-button attr="clear" [oFilterBuilderClear]="filterBuilder" type="RAISED" label="Clear" ></o-button>
        </o-row>
    </o-column-collapsible>

    <o-filter-builder columns="datetime_in;datetime_out;plate_number" 
    #filterBuilder attr="thefilter"
    filters="STARTDATE_I:startInit;STARTDATE_E:endInit;ENDDATE_I:startEnd;ENDDATE_E:endEnd;PLATENUMBER:combo-searchable"
    [target]="travelsTable"
    query-on-change="no" query-on-change-delay="500"
    [expression-builder]="createFilter">
    </o-filter-builder>
</o-form>
<div fxFill fxLayout="column" fxLayoutAlign="start">
    <o-table 
        #travelsTable
        attr="travels" 
        service="travels" 
        entity="travelFull"
        keys="id_travel"
        columns="id_travel;datetime_in;datetime_out;plate_number;delivery_name"
        visible-columns="delivery_name;datetime_in;datetime_out;plate_number"
        delete-button='no'
        insert-button='no'
        query-rows="20">
        <o-table-column 
            content-align="center"
            attr="datetime_in"
            orderable="yes"
            searchable="no"
            type="date" 
            format="DD/MM/YYYY HH:mm:ss.SSS">
        </o-table-column>
        <o-table-column 
            content-align="center"
            attr="datetime_out"
            searchable="no" 
            type="date" 
            format="DD/MM/YYYY HH:mm:ss.SSS">
        </o-table-column>
        <o-table-column
            attr="delivery_name"
            content-align="center"
            serchable="yes"
        ></o-table-column>
        <o-table-column
            attr="plate_number"
            searchable="no"
            content-align="center"
        ></o-table-column>        
    </o-table>
  
</div>